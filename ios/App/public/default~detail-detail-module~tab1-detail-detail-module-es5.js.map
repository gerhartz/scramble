{"version":3,"sources":["webpack:///src/app/tab1/detail/detail-routing.module.ts","webpack:///src/app/tab1/detail/detail.module.ts","webpack:///src/app/tab1/detail/detail.page.scss","webpack:///src/app/tab1/detail/detail.page.ts","webpack:///src/app/tab1/detail/detail.page.html"],"names":["routes","path","component","loadChildren","then","m","RoutePageModule","DetailPageRoutingModule","imports","forChild","exports","DetailPageModule","declarations","DetailPage","climbService","route","afs","storage","fireStorage","modalController","alertController","isFavorite","isCompleted","getMountain","checkIfMountainIsFavorite","checkIfMountainIsCompleted","imageUrl","ref","profileUrl","getDownloadURL","results","remove","id","snapshot","paramMap","get","favoriteMountains","console","log","favorite","mountainId","completedMountains","mountain","undefined","mountainDoc","doc","valueChanges","subscribe","data","mountainName","name","mountainElevation","elevation","resources","hasRouteClass","range","thumbnailUrl","routeList","collection","guidebooks","deleteFavoriteMountain","addFavoriteMountain","mountainInfo","set","newFavoriteMountains","alert","checkIfFavorite","mountainDetails","push","newFavorites","filter","newResults","completedDate","dateCompleted","newCompletedMountains","today","Date","now","toISOString","substring","create","header","inputs","type","max","buttons","text","role","handler","saveMountainToProgress","date1","present","message","removeMountainFromProgress","selector","template"],"mappings":"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","file":"default~detail-detail-module~tab1-detail-detail-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DetailPage } from './detail.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DetailPage\n  },\n  {\n    path: 'route',\n    loadChildren: () => import('./route/route.module').then( m => m.RoutePageModule)\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DetailPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DetailPageRoutingModule } from './detail-routing.module';\n\nimport { DetailPage } from './detail.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    DetailPageRoutingModule\n  ],\n  declarations: [DetailPage]\n})\nexport class DetailPageModule {}\n","export default \".classDisplay {\\n  border-radius: 10px;\\n  padding: 3px;\\n  padding-left: 5px;\\n  padding-right: 5px;\\n}\\n\\np {\\n  -webkit-margin-before: 0px;\\n          margin-block-start: 0px;\\n}\\n\\nimg {\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n  width: 100%;\\n  height: 200px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2RldGFpbC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxtQkFBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0FBQ0o7O0FBRUE7RUFDSSwwQkFBQTtVQUFBLHVCQUFBO0FBQ0o7O0FBRUE7RUFDSSxvQkFBQTtLQUFBLGlCQUFBO0VBQ0EsV0FBQTtFQUNBLGFBQUE7QUFDSiIsImZpbGUiOiJkZXRhaWwucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNsYXNzRGlzcGxheSB7XG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgICBwYWRkaW5nOiAzcHg7XG4gICAgcGFkZGluZy1sZWZ0OiA1cHg7XG4gICAgcGFkZGluZy1yaWdodDogNXB4O1xufVxuXG5wIHtcbiAgICBtYXJnaW4tYmxvY2stc3RhcnQ6IDBweDtcbn1cblxuaW1nIHtcbiAgICBvYmplY3QtZml0OiBjb3ZlcjtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDIwMHB4O1xufVxuIl19 */\";","import { Component, OnInit } from '@angular/core';\nimport { AngularFireStorage } from '@angular/fire/storage';\nimport { AngularFirestore, AngularFirestoreDocument } from '@angular/fire/firestore';\nimport { ActivatedRoute } from '@angular/router';\nimport { Observable, Subscription } from 'rxjs';\nimport { ClimbService } from 'src/app/climb.service';\nimport { Storage } from '@ionic/storage';\nimport { ModalController } from '@ionic/angular';\nimport { ProgressModalPage } from 'src/app/modals/progress-modal/progress-modal.page';\nimport { AlertController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-detail',\n  templateUrl: './detail.page.html',\n  styleUrls: ['./detail.page.scss'],\n})\nexport class DetailPage implements OnInit {\n  private mountainDoc: AngularFirestoreDocument<any>;\n  mountain: Observable<any>;\n  private routeSub: Subscription;\n  routeList: Observable<any>;\n  isFavorite: boolean = false; //Whether the user has already favorited this\n  isCompleted: boolean = false; //Whether the user has marked this mountain as completed\n  \n  mountainName;\n  mountainElevation;\n  resources: any;\n  guidebooks: any;\n  hasRouteClass: any[];\n  range: any;\n  profileUrl;\n  thumbnailUrl: any;\n\n\n  \n\n  constructor(\n    private climbService: ClimbService,\n    private route: ActivatedRoute,\n    private afs: AngularFirestore,\n    private storage: Storage,\n    private fireStorage: AngularFireStorage,\n    private modalController: ModalController,\n    private alertController: AlertController\n  ) { }\n\n  ngOnInit() {\n    this.getMountain();\n    this.checkIfMountainIsFavorite();\n    this.checkIfMountainIsCompleted();\n    \n  }\n\n  getImage(imageUrl) {\n    const ref = this.fireStorage.ref(imageUrl);\n    this.profileUrl = ref.getDownloadURL();\n  }\n\n  async clearFavorites() {\n    let results = this.storage.remove('favoriteMountains');\n  }\n\n  async clearCompleted() {\n    await this.storage.remove('completedMountains');\n  }\n\n  async checkIfMountainIsFavorite() {\n    const id = this.route.snapshot.paramMap.get('id');\n    let favoriteMountains = [];\n\n    try {\n      favoriteMountains = await this.storage.get('favoriteMountains');\n    \n      // No favorites, return false\n      if(favoriteMountains == null) {\n        this.isFavorite = false;\n        return false;\n      } else {\n        console.log('spot A: ', favoriteMountains);\n\n        for(let favorite of favoriteMountains) {\n          if(favorite.mountainId == id){\n            this.isFavorite = true;\n            return true;\n          }\n        }\n\n        console.log('here');\n        this.isFavorite = false;\n        return false;\n\n      }\n    } catch (reason) {\n      console.log('Error in checkIfFavorites.', reason);\n    }\n  }\n\n  async checkIfMountainIsCompleted() {\n    const id = this.route.snapshot.paramMap.get('id');\n    let completedMountains = [];\n\n    try {\n      completedMountains = await this.storage.get('completedMountains');\n      console.log('completed: ', completedMountains);\n    \n      // No favorites, return false\n      if(completedMountains == null) {\n        this.isCompleted = false;\n        return false;\n      } else {\n        for(let mountain of completedMountains) {\n          if(mountain.mountainId == id){\n            this.isCompleted = true;\n            return true;\n          }\n        }\n\n        this.isCompleted = false;\n        return false;\n\n      }\n    } catch (reason) {\n      console.log('Error in checkIfFavorites.', reason);\n    }\n  }\n\n  // Checks if current mountain is in User's local storage list of favorites based on ID\n  // Sets the isFavorite flag\n  async checkIfFavorite() {\n    const id = this.route.snapshot.paramMap.get('id');\n    let favoriteMountains = [];\n\n    try {\n      favoriteMountains = await this.storage.get('favoriteMountains');\n    \n      // No favorites, return false\n      if(favoriteMountains == null) {\n        this.isFavorite = false;\n        return false;\n      } else {\n        console.log('spot A: ', favoriteMountains);\n\n        if(favoriteMountains[id] != undefined){\n          console.log('favorite mountain found!');\n          this.isFavorite = true;\n          return true;\n        } else {\n          this.isFavorite = false;\n          return false;   // No match found\n        }\n      }\n    } catch (reason) {\n      console.log('Error in checkIfFavorites.', reason);\n    }\n  }\n\n  getMountain() {\n    const id = this.route.snapshot.paramMap.get('id');\n    this.mountainDoc = this.afs.doc<any>('mountains/' + id);\n    this.mountain = this.mountainDoc.valueChanges();\n    this.mountain.subscribe(data => {\n      console.log('data: ', data);\n      this.mountainName = data.name;\n      this.mountainElevation = data.elevation;\n      this.resources = data.resources;\n      this.hasRouteClass = data.hasRouteClass;\n      this.range = data.range;\n      this.thumbnailUrl = data.thumbnailUrl;\n\n      if(this.thumbnailUrl){\n        //this.getImage(this.thumbnailUrl);\n      }\n      \n\n\n    });\n    this.routeList = this.afs.doc<any>('mountains/' + id).collection('routes').valueChanges();\n    this.resources = this.afs.doc<any>('mountains/' + id).collection('resources').valueChanges();\n    this.guidebooks = this.afs.doc<any>('mountains/' + id).collection('guidebooks').valueChanges();\n    //this.climbService.getMountain(id).subscribe(mountain => this.mountain = mountain);\n  }\n\n  \n  handleBookmark() {\n    if(this.isFavorite) {\n      console.log('handle bookmrk, delete');\n      //this.deleteFavorite();\n      this.deleteFavoriteMountain();\n    } else {\n      //this.addFavorite();\n      this.addFavoriteMountain();\n    }\n  }\n\n  async addFavorite() {\n    let favoriteMountains = {};\n    const id = this.route.snapshot.paramMap.get('id');\n    console.log('addFavorite called and name: ', this.mountainName);\n\n\n    /*let mountainInfo = await this.afs.collection('mountains').doc(id).get().pipe()\n    if(!mountainInfo) {\n      console.log('no mountain info');\n    } else {\n      console.log('mountain info: ', mountainInfo.data());\n    }\n\n    console.log('mountain info: ', mountainInfo);\n*/\n    try {\n      favoriteMountains = await this.storage.get('favoriteMountains');\n      \n      // Check if no favorites\n      if(favoriteMountains == null) {\n        favoriteMountains = {};\n      }\n\n      let mountainInfo = {\n        name: this.mountainName,\n        elevation: this.mountainElevation\n      };\n\n      //Add\n      favoriteMountains[id] = mountainInfo;\n      let newFavoriteMountains = await this.storage.set('favoriteMountains', favoriteMountains);\n      alert('Added to Favorites!');\n      console.log('new favs: ', newFavoriteMountains);\n      this.checkIfFavorite();\n      return true;\n    } catch (reason) {\n      console.log(reason);\n      return false;\n    }   \n  }\n\n\n  async addFavoriteMountain() {\n    console.log('add fav mtn called');\n    let favoriteMountains = [];\n    const id = this.route.snapshot.paramMap.get('id');\n    \n    try {\n      favoriteMountains = await this.storage.get('favoriteMountains');\n      console.log('fav mtns: ', favoriteMountains);\n\n      if(favoriteMountains == null){\n        favoriteMountains = [];\n      }\n\n      let mountainDetails = {\n        name: this.mountainName,\n        elevation: this.mountainElevation,\n        mountainId: id,\n        range: this.range,\n        hasRouteClass: this.hasRouteClass,\n        thumbnailUrl: this.thumbnailUrl\n      };\n\n      favoriteMountains.push(mountainDetails);\n\n      let newFavorites = await this.storage.set('favoriteMountains', favoriteMountains);\n\n      console.log('new favorites: ', newFavorites);\n    } catch (error) {\n      console.log('Error in addFavoriteMountain.', error);\n    }\n    this.checkIfMountainIsFavorite();\n  }\n\n  async deleteFavoriteMountain() {\n    try {\n      let favoriteMountains = [];\n      const id = this.route.snapshot.paramMap.get('id');\n  \n      favoriteMountains = await this.storage.get('favoriteMountains');\n  \n      if(favoriteMountains == null) {\n        favoriteMountains = [];\n      }\n  \n      let newFavorites = favoriteMountains.filter(favorite => {\n        return favorite.mountainId != id;\n      });\n  \n      let results = await this.storage.set('favoriteMountains', newFavorites);\n      console.log('results: ', results);\n    } catch (error) {\n      console.log('Error in deleteFavoriteMountain(). ', error);\n    }\n\n    this.checkIfMountainIsFavorite();\n  }\n\n \n\n  // Replaces the favorite list with a new favorite list after removing the current mountain ID\n  // Will only be called if the isFavorite == true\n  // Assumes favorite list exists if called\n  async deleteFavorite() {\n    let favoriteMountains = [];\n    const id = this.route.snapshot.paramMap.get('id');\n\n    try {\n      favoriteMountains = await this.storage.get('favoriteMountains');\n      delete favoriteMountains[id];\n\n      let newResults = await this.storage.set('favoriteMountains', favoriteMountains);\n      alert('Removed from Favorites.');\n      this.checkIfFavorite();\n    } catch (reason) {\n      console.log('Error in deleteFavorite.', reason);\n    }\n  }\n\n  async saveMountainToProgress(completedDate) {\n    let completedMountains = [];\n    const id = this.route.snapshot.paramMap.get('id');\n    \n    try {\n      completedMountains = await this.storage.get('completedMountains');\n      console.log('fav mtns: ', completedMountains);\n\n      if(completedMountains == null){\n        completedMountains = [];\n      }\n\n      let mountainDetails = {\n        name: this.mountainName,\n        elevation: this.mountainElevation,\n        mountainId: id,\n        range: this.range,\n        hasRouteClass: this.hasRouteClass,\n        dateCompleted: completedDate,\n        thumbnailUrl: this.thumbnailUrl\n      };\n\n      console.log('mountain details to save: ', mountainDetails);\n\n      completedMountains.push(mountainDetails);\n\n      let newFavorites = await this.storage.set('completedMountains', completedMountains);\n    } catch (error) {\n      console.log('Error in addCompleteMountain.', error);\n    }\n    this.checkIfMountainIsCompleted();\n\n  }\n\n  async removeMountainFromProgress() {\n    try {\n      let completedMountains = [];\n      const id = this.route.snapshot.paramMap.get('id');\n  \n      completedMountains = await this.storage.get('completedMountains');\n  \n      if(completedMountains == null) {\n        completedMountains = [];\n      }\n  \n      let newCompletedMountains = completedMountains.filter(mountain => {\n        return mountain.mountainId != id;\n      });\n  \n      let results = await this.storage.set('completedMountains', newCompletedMountains);\n      console.log('results: ', results);\n    } catch (error) {\n      console.log('Error in deleteFavoriteMountain(). ', error);\n    }\n\n    this.checkIfMountainIsCompleted();\n  }\n\n  async presentSaveProgressAlert() {\n    let today = new Date(Date.now()).toISOString();\n    console.log('today: ', today);\n    today = today.substring(0,10);\n    console.log('now today: ', today);\n    \n\n    const alert = this.alertController.create({\n      header: 'Summit Date',\n      inputs: [\n        {\n          name: 'date1',\n          type: 'date',\n          max: today\n        }\n      ],\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          handler: () => {\n            console.log('cancel called');\n          }\n        },\n        {\n          text: 'Save',\n          handler: (data) => {\n            this.saveMountainToProgress(data.date1);\n            console.log('save called and date: ', data.date1);\n          }\n        }\n      ]\n    });\n\n    (await alert).present();\n  }\n\n\n  async presentRemoveProgressAlert() {\n    const alert = this.alertController.create({\n      header: 'Delete?',\n      message: `Are you sure you want to remove ${this.mountainName} from your saved progress?`,\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          handler: () => { console.log('cancel called'); }\n        },\n        {\n          text: 'Delete',\n          handler: () => {\n            this.removeMountainFromProgress();\n          }\n        }\n      ]\n    });\n\n    (await alert).present();\n  }\n\n\n}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title class=\\\"ion-text-center\\\">Mountain</ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/tabs/tab1\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-icon *ngIf=\\\"!isFavorite\\\" slot=\\\"end\\\" name=\\\"bookmark-outline\\\" (click)=\\\"handleBookmark()\\\"></ion-icon>\\n      <ion-icon *ngIf=\\\"isFavorite\\\" slot=\\\"end\\\" name=\\\"bookmark\\\" (click)=\\\"handleBookmark()\\\"></ion-icon>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-grid class=\\\"ion-no-padding\\\">\\n  </ion-grid>\\n  <ion-grid>\\n    <ion-row class=\\\"ion-text-center\\\">\\n      <ion-col>\\n        <h2>{{ (mountain | async)?.name }}</h2>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col>\\n        <p><b>Elevation:</b></p>\\n        <p><b>Prominence:</b></p>\\n        <p><b>Range:</b></p>\\n        <p *ngIf=\\\"(mountain | async)?.is14er\\\"><b>14er Rank:</b></p>\\n        <p style=\\\"padding-top: 0px;\\\"><b>Location:</b></p>\\n      </ion-col>\\n      <ion-col>\\n        <p>{{ (mountain | async)?.elevation | number }}'</p>\\n        <p>{{ (mountain | async)?.prominence | number }}'</p>\\n        <p>{{ (mountain | async)?.range }}</p>\\n        <p *ngIf=\\\"(mountain | async)?.is14er\\\">{{ (mountain|async)?.fourteenerRank }} of 53</p>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col>\\n        <p>{{ (mountain | async)?.location }}</p>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n  <ion-list>\\n    <ion-list-header>\\n      <ion-label>Routes</ion-label>\\n    </ion-list-header>\\n    <ion-item *ngFor=\\\"let route of (mountain | async)?.routes\\\">\\n      <ion-grid>\\n        <ion-row>\\n          <ion-col size=\\\"7\\\">\\n            <ion-row style=\\\"padding-bottom: 2px;\\\"><b>{{ route.name }}</b></ion-row>\\n            <ion-row style=\\\"padding-top: 2px;\\\"><small>Roundtrip: {{ route.mileage | number}} mi</small></ion-row>\\n            <ion-row style=\\\"padding-top: 2px\\\"><small>Gain: {{ route.gain | number}}'</small></ion-row>\\n          </ion-col>\\n          <ion-col class=\\\"ion-text-left\\\">\\n            <ion-row style=\\\"padding-bottom: 2px;\\\">\\n              <span style=\\\"background-color: #77d505;\\\" class=\\\"classDisplay\\\" *ngIf=\\\"route.class == 1\\\"><small>Class 1</small></span>\\n              <span style=\\\"background-color: #fdcd01;\\\" class=\\\"classDisplay\\\" *ngIf=\\\"route.class == 2\\\"><small>Class 2</small></span>\\n              <span style=\\\"background-color: #fda204;\\\" class=\\\"classDisplay\\\" *ngIf=\\\"route.class == 3\\\"><small>Class 3</small></span>\\n              <span style=\\\"background-color: #fd5d02\\\" class=\\\"classDisplay\\\" *ngIf=\\\"route.class == 4\\\"><small>Class 4</small></span>\\n              <span style=\\\"background-color: #d53732;\\\" class=\\\"classDisplay\\\" *ngIf=\\\"route.class == 5\\\"><small>Class 5</small></span>\\n            </ion-row>\\n            <ion-row style=\\\"padding-top: 2px;\\\">\\n              <span *ngIf=\\\"route.trailheadAccess == 1\\\" style=\\\"background-color: #77d505;\\\" class=\\\"classDisplay\\\"><small>Paved Road</small></span>\\n              <span *ngIf=\\\"route.trailheadAccess == 2\\\" style=\\\"background-color: #fdcd01;\\\" class=\\\"classDisplay\\\"><small>Easy 2WD Dirt</small></span>\\n              <span *ngIf=\\\"route.trailheadAccess == 3\\\" style=\\\"background-color: #fda204;\\\" class=\\\"classDisplay\\\"><small>Rough 2WD Dirt</small></span>\\n              <span *ngIf=\\\"route.trailheadAccess == 4\\\" style=\\\"background-color: #fd5d02;\\\" class=\\\"classDisplay\\\"><small>4WD Only</small></span>\\n              <span *ngIf=\\\"route.trailheadAccess == 5\\\" style=\\\"background-color: #d53732;\\\" class=\\\"classDisplay\\\"><small>Rough 4WD</small></span>\\n            </ion-row>\\n          </ion-col>\\n        </ion-row>\\n      </ion-grid>\\n    </ion-item>\\n    <ion-list-header>\\n      <ion-label>Resources</ion-label>\\n    </ion-list-header>\\n    <ion-item *ngFor=\\\"let resource of (mountain | async)?.resources\\\">\\n      <a href=\\\"{{resource.url}}\\\">{{resource.name}}</a>\\n    </ion-item>\\n    <ion-list-header>\\n      <ion-label>Guidebooks</ion-label>\\n    </ion-list-header>\\n    <ion-item *ngFor=\\\"let guidebook of (mountain | async)?.guidebooks\\\">\\n      <a href=\\\"{{ guidebook.url}}\\\">{{guidebook.name}}</a>\\n    </ion-item>\\n  </ion-list>  \\n  <ion-button *ngIf=\\\"!isCompleted\\\" expand=\\\"block\\\" color=\\\"secondary\\\" (click)=\\\"presentSaveProgressAlert()\\\">\\n    Save to Progress\\n  </ion-button>\\n  <ion-button *ngIf=\\\"isCompleted\\\" expand=\\\"block\\\" color=\\\"primary\\\" (click)=\\\"presentRemoveProgressAlert()\\\">\\n    Completed\\n  </ion-button>\\n</ion-content>\";"]}