{"version":3,"sources":["webpack:///src/app/tab1/detail/detail-routing.module.ts","webpack:///src/app/tab1/detail/detail.module.ts","webpack:///src/app/tab1/detail/detail.page.scss","webpack:///src/app/tab1/detail/detail.page.ts","webpack:///src/app/tab1/detail/detail.page.html"],"names":["routes","path","component","DetailPageRoutingModule","imports","forChild","exports","DetailPageModule","declarations","DetailPage","climbService","route","afs","storage","fireStorage","modalController","alertController","isFavorite","isCompleted","getMountain","checkIfMountainIsFavorite","checkIfMountainIsCompleted","imageUrl","ref","profileUrl","getDownloadURL","results","remove","id","snapshot","paramMap","get","favoriteMountains","favorite","mountainId","console","log","completedMountains","mountain","undefined","mountainDoc","doc","valueChanges","subscribe","data","mountainName","name","mountainElevation","elevation","resources","hasRouteClass","range","thumbnailUrl","routeList","collection","guidebooks","deleteFavoriteMountain","addFavoriteMountain","mountainDetails","push","set","newFavorites","filter","completedDate","dateCompleted","newCompletedMountains","today","Date","now","toISOString","substring","alert","create","header","inputs","type","max","buttons","text","role","handler","saveMountainToProgress","date1","present","message","removeMountainFromProgress","selector","template"],"mappings":"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","file":"default~detail-detail-module~tab1-detail-detail-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DetailPage } from './detail.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DetailPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DetailPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DetailPageRoutingModule } from './detail-routing.module';\n\nimport { DetailPage } from './detail.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    DetailPageRoutingModule\n  ],\n  declarations: [DetailPage]\n})\nexport class DetailPageModule {}\n","export default \".classDisplay {\\n  border-radius: 10px;\\n  padding: 3px;\\n  padding-left: 5px;\\n  padding-right: 5px;\\n}\\n\\np {\\n  -webkit-margin-before: 0px;\\n          margin-block-start: 0px;\\n}\\n\\nimg {\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n  width: 100%;\\n  height: 200px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2RldGFpbC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxtQkFBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0FBQ0o7O0FBRUE7RUFDSSwwQkFBQTtVQUFBLHVCQUFBO0FBQ0o7O0FBRUE7RUFDSSxvQkFBQTtLQUFBLGlCQUFBO0VBQ0EsV0FBQTtFQUNBLGFBQUE7QUFDSiIsImZpbGUiOiJkZXRhaWwucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNsYXNzRGlzcGxheSB7XG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgICBwYWRkaW5nOiAzcHg7XG4gICAgcGFkZGluZy1sZWZ0OiA1cHg7XG4gICAgcGFkZGluZy1yaWdodDogNXB4O1xufVxuXG5wIHtcbiAgICBtYXJnaW4tYmxvY2stc3RhcnQ6IDBweDtcbn1cblxuaW1nIHtcbiAgICBvYmplY3QtZml0OiBjb3ZlcjtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDIwMHB4O1xufVxuIl19 */\";","import { Component, OnInit } from '@angular/core';\nimport { AngularFireStorage } from '@angular/fire/storage';\nimport { AngularFirestore, AngularFirestoreDocument } from '@angular/fire/firestore';\nimport { ActivatedRoute } from '@angular/router';\nimport { Observable, Subscription } from 'rxjs';\nimport { ClimbService } from 'src/app/climb.service';\nimport { Storage } from '@ionic/storage';\nimport { ModalController } from '@ionic/angular';\nimport { AlertController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-detail',\n  templateUrl: './detail.page.html',\n  styleUrls: ['./detail.page.scss'],\n})\nexport class DetailPage implements OnInit {\n  private mountainDoc: AngularFirestoreDocument<any>;\n  mountain: Observable<any>;\n  private routeSub: Subscription;\n  routeList: Observable<any>;\n  isFavorite: boolean = false; //Whether the user has already favorited this\n  isCompleted: boolean = false; //Whether the user has marked this mountain as completed\n  \n  mountainName;\n  mountainElevation;\n  resources: any;\n  guidebooks: any;\n  hasRouteClass: any[];\n  range: any;\n  profileUrl;\n  thumbnailUrl: any;\n\n\n  \n\n  constructor(\n    private climbService: ClimbService,\n    private route: ActivatedRoute,\n    private afs: AngularFirestore,\n    private storage: Storage,\n    private fireStorage: AngularFireStorage,\n    private modalController: ModalController,\n    private alertController: AlertController\n  ) { }\n\n  ngOnInit() {\n    this.getMountain();\n    this.checkIfMountainIsFavorite();\n    this.checkIfMountainIsCompleted();\n    \n  }\n\n  getImage(imageUrl) {\n    const ref = this.fireStorage.ref(imageUrl);\n    this.profileUrl = ref.getDownloadURL();\n  }\n\n  async clearFavorites() {\n    let results = this.storage.remove('favoriteMountains');\n  }\n\n  async clearCompleted() {\n    await this.storage.remove('completedMountains');\n  }\n\n  async checkIfMountainIsFavorite() {\n    const id = this.route.snapshot.paramMap.get('id');\n    let favoriteMountains = [];\n\n    try {\n      favoriteMountains = await this.storage.get('favoriteMountains');\n    \n      // No favorites, return false\n      if(favoriteMountains == null) {\n        this.isFavorite = false;\n        return false;\n      } else {\n\n        for(let favorite of favoriteMountains) {\n          if(favorite.mountainId == id){\n            this.isFavorite = true;\n            return true;\n          }\n        }\n\n        console.log('here');\n        this.isFavorite = false;\n        return false;\n\n      }\n    } catch (reason) {\n      console.log('Error in checkIfFavorites.', reason);\n    }\n  }\n\n  async checkIfMountainIsCompleted() {\n    const id = this.route.snapshot.paramMap.get('id');\n    let completedMountains = [];\n\n    try {\n      completedMountains = await this.storage.get('completedMountains');\n    \n      // No favorites, return false\n      if(completedMountains == null) {\n        this.isCompleted = false;\n        return false;\n      } else {\n        for(let mountain of completedMountains) {\n          if(mountain.mountainId == id){\n            this.isCompleted = true;\n            return true;\n          }\n        }\n\n        this.isCompleted = false;\n        return false;\n\n      }\n    } catch (reason) {\n      console.log('Error in checkIfFavorites.', reason);\n    }\n  }\n\n  // Checks if current mountain is in User's local storage list of favorites based on ID\n  // Sets the isFavorite flag\n  async checkIfFavorite() {\n    const id = this.route.snapshot.paramMap.get('id');\n    let favoriteMountains = [];\n\n    try {\n      favoriteMountains = await this.storage.get('favoriteMountains');\n    \n      // No favorites, return false\n      if(favoriteMountains == null) {\n        this.isFavorite = false;\n        return false;\n      } else {\n        if(favoriteMountains[id] != undefined){\n          this.isFavorite = true;\n          return true;\n        } else {\n          this.isFavorite = false;\n          return false;   // No match found\n        }\n      }\n    } catch (reason) {\n      console.log('Error in checkIfFavorites.', reason);\n    }\n  }\n\n  getMountain() {\n    const id = this.route.snapshot.paramMap.get('id');\n    this.mountainDoc = this.afs.doc<any>('mountains/' + id);\n    this.mountain = this.mountainDoc.valueChanges();\n    this.mountain.subscribe(data => {\n      this.mountainName = data.name;\n      this.mountainElevation = data.elevation;\n      this.resources = data.resources;\n      this.hasRouteClass = data.hasRouteClass;\n      this.range = data.range;\n      this.thumbnailUrl = data.thumbnailUrl;\n    });\n\n    this.routeList = this.afs.doc<any>('mountains/' + id).collection('routes').valueChanges();\n    this.resources = this.afs.doc<any>('mountains/' + id).collection('resources').valueChanges();\n    this.guidebooks = this.afs.doc<any>('mountains/' + id).collection('guidebooks').valueChanges();\n  }\n\n  \n  handleBookmark() {\n    if(this.isFavorite) {\n      this.deleteFavoriteMountain();\n    } else {\n      this.addFavoriteMountain();\n    }\n  }\n\n  async addFavoriteMountain() {\n    let favoriteMountains = [];\n    const id = this.route.snapshot.paramMap.get('id');\n    \n    try {\n      favoriteMountains = await this.storage.get('favoriteMountains');\n\n\n      if(favoriteMountains == null){\n        favoriteMountains = [];\n      }\n\n      let mountainDetails = {\n        name: this.mountainName,\n        elevation: this.mountainElevation,\n        mountainId: id,\n        range: this.range,\n        hasRouteClass: this.hasRouteClass,\n        thumbnailUrl: this.thumbnailUrl\n      };\n\n      favoriteMountains.push(mountainDetails);\n\n      let newFavorites = await this.storage.set('favoriteMountains', favoriteMountains);\n\n    } catch (error) {\n      console.log('Error in addFavoriteMountain.', error);\n    }\n    this.checkIfMountainIsFavorite();\n  }\n\n  async deleteFavoriteMountain() {\n    try {\n      let favoriteMountains = [];\n      const id = this.route.snapshot.paramMap.get('id');\n  \n      favoriteMountains = await this.storage.get('favoriteMountains');\n  \n      if(favoriteMountains == null) {\n        favoriteMountains = [];\n      }\n  \n      let newFavorites = favoriteMountains.filter(favorite => {\n        return favorite.mountainId != id;\n      });\n  \n      let results = await this.storage.set('favoriteMountains', newFavorites);\n    } catch (error) {\n      console.log('Error in deleteFavoriteMountain(). ', error);\n    }\n\n    this.checkIfMountainIsFavorite();\n  }\n\n\n  async saveMountainToProgress(completedDate) {\n    let completedMountains = [];\n    const id = this.route.snapshot.paramMap.get('id');\n    \n    try {\n      completedMountains = await this.storage.get('completedMountains');\n\n      if(completedMountains == null){\n        completedMountains = [];\n      }\n\n      let mountainDetails = {\n        name: this.mountainName,\n        elevation: this.mountainElevation,\n        mountainId: id,\n        range: this.range,\n        hasRouteClass: this.hasRouteClass,\n        dateCompleted: completedDate,\n        thumbnailUrl: this.thumbnailUrl\n      };\n\n\n      completedMountains.push(mountainDetails);\n\n      let newFavorites = await this.storage.set('completedMountains', completedMountains);\n    } catch (error) {\n      console.log('Error in addCompleteMountain.', error);\n    }\n    this.checkIfMountainIsCompleted();\n\n  }\n\n  async removeMountainFromProgress() {\n    try {\n      let completedMountains = [];\n      const id = this.route.snapshot.paramMap.get('id');\n  \n      completedMountains = await this.storage.get('completedMountains');\n  \n      if(completedMountains == null) {\n        completedMountains = [];\n      }\n  \n      let newCompletedMountains = completedMountains.filter(mountain => {\n        return mountain.mountainId != id;\n      });\n  \n      let results = await this.storage.set('completedMountains', newCompletedMountains);\n    } catch (error) {\n      console.log('Error in deleteFavoriteMountain(). ', error);\n    }\n\n    this.checkIfMountainIsCompleted();\n  }\n\n  async presentSaveProgressAlert() {\n    let today = new Date(Date.now()).toISOString();\n    console.log('today: ', today);\n    today = today.substring(0,10);\n    console.log('now today: ', today);\n    \n\n    const alert = this.alertController.create({\n      header: 'Summit Date',\n      inputs: [\n        {\n          name: 'date1',\n          type: 'date',\n          max: today\n        }\n      ],\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          handler: () => {\n            console.log('cancel called');\n          }\n        },\n        {\n          text: 'Save',\n          handler: (data) => {\n            this.saveMountainToProgress(data.date1);\n            console.log('save called and date: ', data.date1);\n          }\n        }\n      ]\n    });\n\n    (await alert).present();\n  }\n\n\n  async presentRemoveProgressAlert() {\n    const alert = this.alertController.create({\n      header: 'Delete?',\n      message: `Are you sure you want to remove ${this.mountainName} from your saved progress?`,\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          handler: () => { console.log('cancel called'); }\n        },\n        {\n          text: 'Delete',\n          handler: () => {\n            this.removeMountainFromProgress();\n          }\n        }\n      ]\n    });\n\n    (await alert).present();\n  }\n\n\n}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title class=\\\"ion-text-center\\\">Mountain</ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/tabs/tab1\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-icon *ngIf=\\\"!isFavorite\\\" slot=\\\"end\\\" name=\\\"bookmark-outline\\\" (click)=\\\"handleBookmark()\\\"></ion-icon>\\n      <ion-icon *ngIf=\\\"isFavorite\\\" slot=\\\"end\\\" name=\\\"bookmark\\\" (click)=\\\"handleBookmark()\\\"></ion-icon>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <ion-grid class=\\\"ion-no-padding\\\">\\n  </ion-grid>\\n  <ion-grid>\\n    <ion-row class=\\\"ion-text-center\\\">\\n      <ion-col>\\n        <h2>{{ (mountain | async)?.name }}</h2>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col>\\n        <p><b>Elevation:</b></p>\\n        <p><b>Prominence:</b></p>\\n        <p><b>Range:</b></p>\\n        <p *ngIf=\\\"(mountain | async)?.is14er\\\"><b>14er Rank:</b></p>\\n        <p style=\\\"padding-top: 0px;\\\"><b>Location:</b></p>\\n      </ion-col>\\n      <ion-col>\\n        <p>{{ (mountain | async)?.elevation | number }}'</p>\\n        <p>{{ (mountain | async)?.prominence | number }}'</p>\\n        <p>{{ (mountain | async)?.range }}</p>\\n        <p *ngIf=\\\"(mountain | async)?.is14er\\\">{{ (mountain|async)?.fourteenerRank }} of 53</p>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col>\\n        <p>{{ (mountain | async)?.location }}</p>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n  <ion-list>\\n    <ion-list-header>\\n      <ion-label>Routes</ion-label>\\n    </ion-list-header>\\n    <ion-item *ngFor=\\\"let route of (mountain | async)?.routes\\\">\\n      <ion-grid>\\n        <ion-row>\\n          <ion-col size=\\\"7\\\">\\n            <ion-row style=\\\"padding-bottom: 2px;\\\"><b>{{ route.name }}</b></ion-row>\\n            <ion-row style=\\\"padding-top: 2px;\\\"><small>Roundtrip: {{ route.mileage | number}} mi</small></ion-row>\\n            <ion-row style=\\\"padding-top: 2px\\\"><small>Gain: {{ route.gain | number}}'</small></ion-row>\\n          </ion-col>\\n          <ion-col class=\\\"ion-text-left\\\">\\n            <ion-row style=\\\"padding-bottom: 2px;\\\">\\n              <span style=\\\"background-color: #77d505;\\\" class=\\\"classDisplay\\\" *ngIf=\\\"route.class == 1\\\"><small>Class 1</small></span>\\n              <span style=\\\"background-color: #fdcd01;\\\" class=\\\"classDisplay\\\" *ngIf=\\\"route.class == 2\\\"><small>Class 2</small></span>\\n              <span style=\\\"background-color: #fda204;\\\" class=\\\"classDisplay\\\" *ngIf=\\\"route.class == 3\\\"><small>Class 3</small></span>\\n              <span style=\\\"background-color: #fd5d02\\\" class=\\\"classDisplay\\\" *ngIf=\\\"route.class == 4\\\"><small>Class 4</small></span>\\n              <span style=\\\"background-color: #d53732;\\\" class=\\\"classDisplay\\\" *ngIf=\\\"route.class == 5\\\"><small>Class 5</small></span>\\n            </ion-row>\\n            <ion-row style=\\\"padding-top: 2px;\\\">\\n              <span *ngIf=\\\"route.trailheadAccess == 1\\\" style=\\\"background-color: #77d505;\\\" class=\\\"classDisplay\\\"><small>Paved Road</small></span>\\n              <span *ngIf=\\\"route.trailheadAccess == 2\\\" style=\\\"background-color: #fdcd01;\\\" class=\\\"classDisplay\\\"><small>Easy 2WD Dirt</small></span>\\n              <span *ngIf=\\\"route.trailheadAccess == 3\\\" style=\\\"background-color: #fda204;\\\" class=\\\"classDisplay\\\"><small>Rough 2WD Dirt</small></span>\\n              <span *ngIf=\\\"route.trailheadAccess == 4\\\" style=\\\"background-color: #fd5d02;\\\" class=\\\"classDisplay\\\"><small>4WD Only</small></span>\\n              <span *ngIf=\\\"route.trailheadAccess == 5\\\" style=\\\"background-color: #d53732;\\\" class=\\\"classDisplay\\\"><small>Rough 4WD</small></span>\\n            </ion-row>\\n          </ion-col>\\n        </ion-row>\\n      </ion-grid>\\n    </ion-item>\\n    <ion-list-header>\\n      <ion-label>Resources</ion-label>\\n    </ion-list-header>\\n    <ion-item *ngFor=\\\"let resource of (mountain | async)?.resources\\\">\\n      <a *ngIf=\\\"resource.url != ''\\\" href=\\\"{{resource.url}}\\\">{{resource.name}}</a>\\n    </ion-item>\\n    <ion-list-header>\\n      <ion-label>Guidebooks</ion-label>\\n    </ion-list-header>\\n    <ion-item *ngFor=\\\"let guidebook of (mountain | async)?.guidebooks\\\">\\n      <a href=\\\"{{ guidebook.url}}\\\">{{guidebook.name}}</a>\\n    </ion-item>\\n  </ion-list>  \\n  <ion-button *ngIf=\\\"!isCompleted\\\" expand=\\\"block\\\" color=\\\"secondary\\\" (click)=\\\"presentSaveProgressAlert()\\\">\\n    Save to Progress\\n  </ion-button>\\n  <ion-button *ngIf=\\\"isCompleted\\\" expand=\\\"block\\\" color=\\\"primary\\\" (click)=\\\"presentRemoveProgressAlert()\\\">\\n    Completed\\n  </ion-button>\\n</ion-content>\";"]}